<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‚ù§Ô∏è Buat Kamu ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Segoe+Script&display=swap" rel="stylesheet">
  <style>
    body, h1, .quiz-q, .quiz-a, #message, #reasonBox, #reasonInput, #sendReason {
      font-family: 'Segoe Script', 'Great Vibes', cursive, 'Comic Sans MS', sans-serif !important;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    body {
      text-align: center;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4 60%, #fcb69f 100%);
      min-height: 100vh;
      min-width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      touch-action: none;
    }
    h1 {
      font-size: 2em;
      color: #fff;
      margin: 20px;
      padding: 0 20px;
      text-shadow: 1px 2px 8px #e57373;
      letter-spacing: 1px;
    }
    .card-quiz {
      background: rgba(255,255,255,0.18);
      border-radius: 16px;
      box-shadow: 0 2px 16px #f8bbd0;
      padding: 18px 12px 12px 12px;
      margin-bottom: 18px;
      animation: fadeIn 1s;
      max-width: 350px;
    }
    .quiz-q {
      color: #d81b60;
      font-size: 1.1em;
      margin-bottom: 10px;
      font-weight: bold;
    }
    .quiz-a {
      margin-bottom: 10px;
    }
    .quiz-a input[type="radio"] {
      margin-right: 8px;
      accent-color: #ff4081;
    }
    .quiz-btn {
      background: #ffb6b9;
      color: #fff;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      padding: 10px 22px;
      cursor: pointer;
      font-size: 16px;
      box-shadow: 0 2px 8px #f8bbd0;
      letter-spacing: 1px;
      margin-top: 8px;
    }
    button {
      padding: 15px 30px;
      font-size: 17px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s ease;
      z-index: 2;
      position: relative;
      box-shadow: 0 2px 8px #f8bbd0;
    }
    #yesBtn {
      background-color: #ff4081;
      color: white;
      font-weight: bold;
      letter-spacing: 1px;
    }
    #noBtn {
      background-color: #f44336;
      color: white;
      position: absolute;
      left: 60%;
      top: 60%;
      min-width: 80px;
      min-height: 40px;
      touch-action: none;
      font-weight: bold;
    }
    #message {
      font-size: 22px;
      color: #fff;
      margin-top: 20px;
      padding: 10px;
      z-index: 2;
      text-shadow: 1px 2px 8px #e57373;
    }
    #reasonBox {
      margin-top: 25px;
      display: none;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 1s;
      background: rgba(255,255,255,0.15);
      border-radius: 16px;
      padding: 18px 12px 12px 12px;
      box-shadow: 0 2px 16px #f8bbd0;
    }
    #reasonInput {
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: 1.5px solid #ffb6b9;
      width: 220px;
      margin-bottom: 12px;
      outline: none;
      box-shadow: 0 2px 8px #f8bbd0;
      background: #fff8f8;
      color: #d81b60;
      text-align: center;
    }
    #sendReason {
      background: #ffb6b9;
      color: #fff;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      padding: 10px 22px;
      cursor: pointer;
      font-size: 16px;
      box-shadow: 0 2px 8px #f8bbd0;
      letter-spacing: 1px;
    }
    .heart {
      position: fixed;
      top: -20px;
      color: #ffb6b9;
      font-size: 24px;
      animation: fall linear forwards;
      z-index: 1;
      user-select: none;
      pointer-events: none;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @media (max-width: 600px) {
      h1 { font-size: 1.2em; }
      button, .quiz-btn { font-size: 14px; padding: 12px 20px; }
      #message { font-size: 16px; }
      #reasonInput { width: 140px; }
      #reasonBox { padding: 10px 4px 8px 4px; }
      .card-quiz { max-width: 98vw; }
    }
  </style>
</head>
<body>
  <h1 id="mainTitle">Sebelum lanjut, jawab kuis santai ini dulu ya! üòä</h1>
  <div id="quizBox" class="card-quiz"></div>
  <button id="yesBtn" style="display:none;">Iya</button>
  <button id="noBtn" style="display:none;">Gak</button>
  <div id="message"></div>
  <div id="reasonBox">
    <div style="color:#fff; margin-bottom:8px; font-size:1.1em;">Tulis alasannya ya, kenapa mau jadi pacar aku? üò≥üíï</div>
    <input id="reasonInput" maxlength="120" placeholder="Karena kamu...">
    <button id="sendReason">Kirim Alasan</button>
  </div>

  <script>
    // KUIS DATA
    const quizzes = [
      {
        q: "1. Pilih warna favorit kamu:",
        a: ["Merah", "Biru", "Pink", "Hijau"],
        correct: null // semua boleh
      },
      {
        q: "2. Pilih makanan yang paling kamu suka:",
        a: ["Bakso", "Mie Ayam", "Sate", "Nasi Goreng"],
        correct: null // semua boleh
      },
      {
        q: "3. Kalau liburan, kamu lebih suka?",
        a: ["Pantai", "Gunung", "Mall", "Rumah aja"],
        correct: null // semua boleh
      }
    ];
    let quizStep = 0;
    let quizAnswers = [];
    const quizBox = document.getElementById('quizBox');
    const mainTitle = document.getElementById('mainTitle');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const message = document.getElementById('message');
    const reasonBox = document.getElementById('reasonBox');
    const reasonInput = document.getElementById('reasonInput');
    const sendReason = document.getElementById('sendReason');
    let sudahJawab = false;

    // Daftar kata negatif/ejekan/larangan (200+ kata, Indonesia & gaul)
    const forbiddenWords = [
      "jelek", "gak suka", "tidak suka", "benci", "bodoh", "goblok", "brengsek", "anjing", "bangsat", "kontol", "tolol", "gila", "ngapain", "nggak", "tidak", "ga mau", "gak mau", "jijik", "menjijikkan", "hina", "jahat", "sial", "mati", "brengsek", "males", "malas", "ogah", "ogah ah", "ogah deh", "ogah banget", "ogah banget dah", "ogah banget deh", "rodok"
    ];

    // Render kuis
    function renderQuiz() {
      if (quizStep >= quizzes.length) {
        quizBox.style.display = "none";
        mainTitle.innerHTML = "Mau nggak jadi pacar aku? ‚ù§Ô∏è";
        yesBtn.style.display = "";
        noBtn.style.display = "";
        return;
      }
      const q = quizzes[quizStep];
      let html = `<div class="quiz-q">${q.q}</div>`;
      q.a.forEach((ans, i) => {
        html += `<div class="quiz-a"><label><input type="radio" name="quiz${quizStep}" value="${ans}"> ${ans}</label></div>`;
      });
      html += `<button class="quiz-btn" id="quizNextBtn">Lanjut</button>`;
      quizBox.innerHTML = html;
      document.getElementById('quizNextBtn').onclick = () => {
        const selected = quizBox.querySelector('input[type="radio"]:checked');
        if (!selected) {
          quizBox.querySelector('.quiz-q').innerHTML += "<br><span style='color:#f44336;font-size:0.9em;'>Pilih dulu ya!</span>";
          return;
        }
        quizAnswers.push(selected.value);
        quizStep++;
        renderQuiz();
      };
    }
    renderQuiz();

    yesBtn.onclick = () => {
      yesBtn.style.display = "none";
      noBtn.style.display = "none";
      reasonBox.style.display = "flex";
      message.innerHTML = "Yey! Kamu mau jadi pacar aku! ü•∞<br><span style='font-size:16px;'>Tapi... kasih tau dong alasannya~</span>";
      reasonInput.focus();

      // Tambahkan animasi love bertebaran saat klik "Iya"
      for (let i = 0; i < 30; i++) {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = 2 + Math.random() * 2 + "s";
        heart.innerText = "üíñ";
        heart.style.textShadow = "0 0 16px #fff176, 0 0 32px #ffb6b9";
        document.body.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 4000);
      }
    };

    sendReason.onclick = () => {
      const alasan = reasonInput.value.trim();
      if (!alasan) {
        reasonInput.focus();
        reasonInput.style.borderColor = "#f44336";
        message.innerHTML = `<span style="color:#fff; background:rgba(255,64,129,0.7); padding:8px 18px; border-radius:12px; box-shadow:0 2px 12px #ffb6b9; font-size:1.1em;">Tulis dulu alasannya ya, aku pengen tau isi hati kamu ü•∫üíï</span>`;
        return;
      }
      // Cek kata negatif
      const alasanLower = alasan.toLowerCase();
      for (const bad of forbiddenWords) {
        if (alasanLower.includes(bad)) {
          message.innerHTML = `<span style="color:#fff; background:rgba(244,67,54,0.85); padding:10px 20px; border-radius:14px; box-shadow:0 2px 16px #f44336; font-size:1.15em; font-family:'Segoe Script',cursive;">Alasan kamu harus indah, sopan, dan penuh cinta ya sayang üíñ<br>Jangan pakai kata negatif, aku ingin dengar yang terbaik dari kamu üòò</span>`;
          reasonInput.style.borderColor = "#f44336";
          reasonInput.focus();
          return;
        }
      }
      // Hapus judul besar setelah alasan dikirim
      mainTitle.style.display = "none";
      reasonBox.style.display = "none";
      sudahJawab = true;
      message.innerHTML = `
        <div style="font-size:2em; color:#fff; text-shadow:0 2px 16px #ffb6b9,0 0 24px #fff176;">üíé Terima kasih cintaku! üíé</div>
        <div style="font-size:1.2em; color:#fff; margin:12px 0 8px 0; font-family:'Segoe Script',cursive; text-shadow:0 2px 12px #ffe082;">
          Alasan kamu benar-benar menyentuh hati aku...<br>
          <span style="display:inline-block; margin-top:8px; background:linear-gradient(90deg,#fffde4,#ffb6b9,#ffe082); border-radius:16px; padding:12px 24px; color:#d81b60; font-size:1.15em; font-family:'Segoe Script',cursive; box-shadow:0 2px 24px #ffe082;">
            ‚Äú${alasan}‚Äù
          </span>
        </div>
        <div style="margin:18px 0 8px 0; font-size:1.1em; color:#fff; text-shadow:0 2px 8px #ffb6b9;">
          Aku makin sayang sama kamu! üíñ<br>
          <span style="font-size:1.3em;">Mau aku simpan alasan indah ini di WhatsApp aku?</span>
        </div>
        <a id="waLink1" href="#" target="_blank" style="color:#fff; background:linear-gradient(90deg,#25d366,#43e97b,#38f9d7); padding:12px 28px; border-radius:16px; text-decoration:none; font-weight:bold; font-size:1.15em; box-shadow:0 2px 16px #b2dfdb; margin:8px 4px; display:inline-block; border:2px solid #fff;">Kirim ke WhatsApp Aku üíå</a>
        <a id="waLink2" href="#" target="_blank" style="color:#fff; background:linear-gradient(90deg,#009688,#43e97b,#38f9d7); padding:12px 28px; border-radius:16px; text-decoration:none; font-weight:bold; font-size:1.15em; box-shadow:0 2px 16px #b2dfdb; margin:8px 4px; display:inline-block; border:2px solid #fff;">Kirim ke WhatsApp Satu Lagi üíå</a>
      `;
      // Efek animasi love lebih banyak & glowing
      for (let i = 0; i < 40; i++) {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = 2.5 + Math.random() * 2 + "s";
        heart.innerText = "üíñ";
        heart.style.textShadow = "0 0 16px #fff176, 0 0 32px #ffb6b9";
        document.body.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 5000);
      }
      // Buat link WhatsApp otomatis
      setTimeout(() => {
        const alasanEncoded = encodeURIComponent(alasan);
        const waLink1 = document.getElementById('waLink1');
        const waLink2 = document.getElementById('waLink2');
        if (waLink1) {
          waLink1.href = `https://wa.me/6283141707524?text=Hai%20aku%20mau%20jadi%20pacar%20kamu%20karena:%20${alasanEncoded}`;
        }
        if (waLink2) {
          waLink2.href = `https://wa.me/6285215566645?text=Hai%20aku%20mau%20jadi%20pacar%20kamu%20karena:%20${alasanEncoded}`;
        }
      }, 100);
    };

    reasonInput.oninput = () => {
      reasonInput.style.borderColor = "#ffb6b9";
      message.innerHTML = "";
    };

    // Tombol Gak makin susah disentuh
    function moveNoBtn(e) {
      if (sudahJawab) return;
      const maxX = window.innerWidth - noBtn.offsetWidth - 10;
      const maxY = window.innerHeight - noBtn.offsetHeight - 10;
      let x = Math.random() * maxX;
      let y = Math.random() * maxY;
      // Hindari terlalu dekat dengan tombol iya
      const yesRect = yesBtn.getBoundingClientRect();
      if (Math.abs(x - yesRect.left) < 80 && Math.abs(y - yesRect.top) < 80) {
        x = (x + 100) % maxX;
        y = (y + 100) % maxY;
      }
      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
      e?.preventDefault();
      e?.stopPropagation();
      return false;
    }
    noBtn.addEventListener('touchstart', moveNoBtn, { passive: false });
    noBtn.addEventListener('mouseover', moveNoBtn);
    noBtn.addEventListener('click', moveNoBtn);

    // Cegah keluar sebelum jawab (semaksimal mungkin)
    window.onbeforeunload = function() {
      if (!sudahJawab) return "Kamu belum jawab üò≠";
    };
    document.addEventListener('visibilitychange', function() {
      if (document.visibilityState === 'hidden' && !sudahJawab) {
        alert("Jangan kabur dulu, jawab dulu ya üò≠");
      }
    });
    window.addEventListener('pagehide', function(e) {
      if (!sudahJawab) e.preventDefault();
    });

    // Untuk HP: cegah swipe back/refresh (tidak 100% bisa di semua browser)
    window.addEventListener('touchmove', function(e) {
      if (!sudahJawab) e.preventDefault();
    }, { passive: false });
  </script>
</body>
</html>
